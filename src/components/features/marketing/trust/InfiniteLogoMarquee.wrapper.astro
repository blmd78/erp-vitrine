---
import LogoMarquee from './InfiniteLogoMarquee'
import { optimizeImages } from '@nextnode/functions-client/image'
import { getImage } from 'astro:assets'

import hermesLogo from '@/assets/clients/hermes.png'
import allianzLogo from '@/assets/clients/allianz-trade.png'
import certigoLogo from '@/assets/clients/certigo.png'
import igocreateLogo from '@/assets/clients/igocreate.png'

interface Props {
	speed?: 'slow' | 'normal' | 'fast'
}

const { speed = 'normal' } = Astro.props

const optimizedLogos = await optimizeImages(
	{
		hermes: hermesLogo as any,
		allianz: allianzLogo as any,
		certigo: certigoLogo as any,
		igocreate: igocreateLogo as any,
	},
	getImage as any,
)

const clients = [
	{
		name: 'Hermès',
		logo: optimizedLogos.hermes.src,
		alt: 'Hermès - Luxury fashion house',
	},
	{
		name: 'Allianz Trade',
		logo: optimizedLogos.allianz.src,
		alt: 'Allianz Trade - Trade credit insurance leader',
	},
	{
		name: 'Certigo',
		logo: optimizedLogos.certigo.src,
		alt: 'Certigo - Financial services',
	},
	{
		name: 'IgoCreate',
		logo: optimizedLogos.igocreate.src,
		alt: 'IgoCreate - Creative digital solutions',
	},
]
---

<LogoMarquee clients={clients} speed={speed} client:visible />
